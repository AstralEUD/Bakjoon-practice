/* init */

#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define min(x, y) (x) < (y) ? (x) : (y)
#define max(x, y) (x) > (y) ? (x) : (y)

#define MAX_SIZE 10000000
#define TRUE 1
#define FALSE 0
#define ERROR -1

typedef int boolean;

// memset(A, 0, sizeof(A));
// A배열 1바이트 단위마다 0x00으로 초기화

// ---------------------------------- //

int box[505][505];
int dp[30][30][30] = {
    {{0, 0}, {1, 0}, {2, 0}, {3, 0}},
    {{0, 0}, {0, 1}, {0, 2}, {0, 3}},
    {{0, 0}, {0, 1}, {1, 1}, {1, 0}},
    {{0, 0}, {0, 1}, {0, 2}, {1, 2}} /* A ~ D */,
    {{0, 0}, {0, 1}, {1, 0}, {0, 2}},
    {{0, 2}, {1, 0}, {1, 1}, {1, 2}},
    {{0, 0}, {1, 0}, {1, 1}, {1, 2}},
    {{0, 0}, {0, 1}, {1, 1}, {2, 1}} /* E ~ H */,
    {{0, 0}, {1, 0}, {2, 0}, {0, 1}},
    {{0, 1}, {1, 1}, {2, 1}, {2, 0}},
    {{0, 0}, {1, 0}, {2, 0}, {2, 1}},
    {{0, 1}, {1, 0}, {1, 1}, {1, 2}}, /* I ~ N except L */
    {{0, 0}, {1, 0}, {2, 0}, {1, 1}}, /* !!*/
    {{0, 0}, {0, 1}, {0, 2}, {1, 1}},
    {{0, 0}, {0, 1}, {1, 1}, {1, 2}},
    {{0, 1}, {1, 0}, {1, 1}, {2, 0}},
    {{0, 1}, {0, 2}, {1, 0}, {1, 1}}, /* M ~ Q */
    {{0, 0}, {1, 0}, {1, 1}, {2, 1}},
    {{0, 0}, {0, 1}, {0, 2}, {1, 1}},
    {{0, 1}, {1, 0}, {1, 1}, {2, 1}} /* R ~ T */
};

int main(void) {
  int n, m, i, j, k, p, x, y, z, v, o, maxnum = 0;
  memset(box, 0x00, sizeof(box));
  scanf("%d %d", &n, &m);
  for (i = 1; i <= n; i++) {
    for (j = 1; j <= m; j++) {
      scanf("%d", &box[i][j]);
    }
  }

  for (i = 1; i <= n; i++) {
    for (j = 1; j <= m; j++) {
      for (k = 0; k < 20; k++) {
        v = 0;
        o=0;
        for (p = 0; p < 4; p++) {
          x = i + dp[k][p][1];
          y = j + dp[k][p][0];
          if (!((x > 0) && (x <= n) && (y > 0) && (y <= m))) {
              o++;
          }
          v += box[x][y];
        }
        if (o==0) {
           maxnum = max(v, maxnum); 
        }
      }
    }
  }

  printf("%d", maxnum);

  return 0;
}
